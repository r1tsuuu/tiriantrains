<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta
      name="description"
      content="Tirian Trains - Your reliable transit partner"
    />
    <meta name="author" content="Tirian Trains" />

    <link rel="shortcut icon" href="/static/assets/img/icons/icon-48x48.png" />

    <title>Tirian Trains - {% block title %}{% endblock %}</title>

    <link href="/static/assets/css/app.css" rel="stylesheet" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap"
      rel="stylesheet"
    />

    {% block stylesheets %}{% endblock stylesheets %}
  </head>

  <body>
    <div class="wrapper">
      {% include 'includes/sidebar.html' %}

      <div class="main">
        <nav class="navbar navbar-expand navbar-light navbar-bg shadow-sm">
          <a class="sidebar-toggle js-sidebar-toggle">
            <i class="hamburger align-self-center"></i>
          </a>

          <div class="navbar-collapse collapse">
            <ul class="navbar-nav navbar-align">
              {% if user.is_authenticated %}
              <li class="nav-item dropdown">
                <a
                  class="nav-icon dropdown-toggle d-inline-block d-sm-none"
                  href="#"
                  data-bs-toggle="dropdown"
                >
                  <i class="align-middle" data-feather="settings"></i>
                </a>

                <a
                  class="nav-link dropdown-toggle d-none d-sm-inline-block"
                  href="#"
                  data-bs-toggle="dropdown"
                >
                  <span class="text-dark fw-semibold"
                    >Hello, {{ user.first_name|default:user.username }}</span
                  >
                </a>
                <div class="dropdown-menu dropdown-menu-end">
                  <a class="dropdown-item" href="{% url 'profile' %}"
                    ><i class="align-middle me-1" data-feather="user"></i>
                    Profile</a
                  >
                  <a class="dropdown-item" href="{% url 'ticket_summary' %}"
                    ><i class="align-middle me-1" data-feather="list"></i> My
                    Tickets</a
                  >
                  <div class="dropdown-divider"></div>
                  <a class="dropdown-item text-danger" href="{% url 'logout' %}"
                    >Log out</a
                  >
                </div>
              </li>
              {% else %}
              <li class="nav-item">
                <a
                  class="btn btn-outline-primary btn-sm me-2"
                  href="{% url 'login' %}"
                  >Log In</a
                >
              </li>
              <li class="nav-item">
                <a class="btn btn-primary btn-sm" href="{% url 'register' %}"
                  >Sign Up</a
                >
              </li>
              {% endif %}
            </ul>
          </div>
        </nav>

        {% block content %}{% endblock content %}
      </div>
    </div>

    <script src="/static/assets/js/app.js"></script>

    {% block javascripts %}{% endblock javascripts %}
  </body>
</html>
